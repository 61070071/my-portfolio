{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chanl\\\\OneDrive - KMITL\\\\Desktop\\\\ProjectsProfile\\\\OnOffWater\\\\on_off_water\\\\src\\\\components\\\\popUpSetTime.js\";\nimport { setDoc, getDoc, doc } from \"firebase/firestore\";\n// import { firestore } from \"../firebase_setup/firebase\"\nimport { db } from \"../firebase\";\nimport TextBox from \"./textBoxInPopUp\";\nimport TogglePopUp from \"../functions/togglePopUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PopUpSetTime(_ref) {\n  let {\n    id,\n    date,\n    setDate,\n    time,\n    setTime,\n    coolDown,\n    setCoolDown\n  } = _ref;\n  const addLog = async e => {\n    e.preventDefault();\n    document.getElementById(\"popUp\").classList.toggle(\"hidden\");\n    document.getElementById(\"popUp\").classList.toggle(\"flex\");\n    try {\n      const docSnap = await getDoc(doc(db, \"Logs\", \"00\" + id));\n      console.log(docSnap.data);\n      await setDoc(doc(db, \"Logs\", \"00\" + id), {\n        // ID: id,\n        // Date: date,\n        // TimeOpen: time,\n        // TimeClose: \"\",\n        // CoolDown: coolDown + \" นาที\"\n        ID: id,\n        TurnOnOff: true,\n        history: [{\n          Date: date,\n          TimeOpen: time,\n          TimeClose: \"\",\n          Cooldown: coolDown\n        }]\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"popUp\",\n    className: \"hidden h-screen w-full bg-black/50 absolute top-0 left-0 z-10 items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-screen-sm mx-auto bg-slate-400 rounded flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-indigo-500 p-2 w-full rounded-t flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"namePipePopUp\",\n          className: \"text-2xl\",\n          children: [\"\\u0E01\\u0E4A\\u0E2D\\u0E01 \", id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl cursor-pointer\",\n          onClick: () => TogglePopUp(id),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 flex flex-col gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(TextBox, {\n          idInput: \"input_date\",\n          label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\",\n          type: \"date\",\n          value: date,\n          setValue: setDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n          idInput: \"input_time_turn_on\",\n          label: \"\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E19\\u0E49\\u0E33\",\n          type: \"time\",\n          value: time,\n          setValue: setTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl whitespace-nowrap\",\n            children: \"\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E01\\u0E35\\u0E48\\u0E19\\u0E32\\u0E17\\u0E35 : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"text-2xl whitespace-nowrap\",\n            id: \"minuteID\",\n            form: \"minute\",\n            onChange: e => setCoolDown(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"30\",\n              children: \"30 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"25\",\n              children: \"25 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"20\",\n              children: \"20 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"15\",\n              children: \"15 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"10\",\n              children: \"10 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5\",\n              children: \"5 \\u0E19\\u0E32\\u0E17\\u0E35\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-indigo-500 rounded text-xl text-center p-2 cursor-pointer\",\n          onClick: addLog,\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 11\n  }, this);\n}\n_c = PopUpSetTime;\n;\nvar _c;\n$RefreshReg$(_c, \"PopUpSetTime\");","map":{"version":3,"names":["setDoc","getDoc","doc","db","TextBox","TogglePopUp","PopUpSetTime","id","date","setDate","time","setTime","coolDown","setCoolDown","addLog","e","preventDefault","document","getElementById","classList","toggle","docSnap","console","log","data","ID","TurnOnOff","history","Date","TimeOpen","TimeClose","Cooldown","error","target","value"],"sources":["C:/Users/chanl/OneDrive - KMITL/Desktop/ProjectsProfile/OnOffWater/on_off_water/src/components/popUpSetTime.js"],"sourcesContent":["\r\n\r\nimport { setDoc, getDoc, doc } from \"firebase/firestore\";\r\n// import { firestore } from \"../firebase_setup/firebase\"\r\nimport { db } from \"../firebase\"\r\nimport TextBox from \"./textBoxInPopUp\"\r\nimport TogglePopUp from \"../functions/togglePopUp\";\r\n\r\nexport default function PopUpSetTime({ id, date, setDate, time, setTime, coolDown, setCoolDown }) {\r\n\r\n    const addLog = async (e) => {\r\n        e.preventDefault();\r\n        document.getElementById(\"popUp\").classList.toggle(\"hidden\");\r\n        document.getElementById(\"popUp\").classList.toggle(\"flex\");\r\n        try{\r\n            const docSnap = await getDoc(doc(db, \"Logs\", \"00\" + id));\r\n            console.log(docSnap.data);\r\n            await setDoc(doc(db, \"Logs\", \"00\" + id),{\r\n                    // ID: id,\r\n                    // Date: date,\r\n                    // TimeOpen: time,\r\n                    // TimeClose: \"\",\r\n                    // CoolDown: coolDown + \" นาที\"\r\n                    ID: id,\r\n                    TurnOnOff : true,\r\n                    history : [{\r\n                    Date : date,\r\n                    TimeOpen : time,\r\n                    TimeClose : \"\",\r\n                    Cooldown : coolDown \r\n                    }]\r\n                })\r\n        }catch(e){\r\n            console.error(e);\r\n        }\r\n    }\r\n    return (\r\n          <div id=\"popUp\" className=\"hidden h-screen w-full bg-black/50 absolute top-0 left-0 z-10 items-center justify-center\">\r\n                <div className=\"max-w-screen-sm mx-auto bg-slate-400 rounded flex flex-col\">\r\n                    <div className=\"bg-indigo-500 p-2 w-full rounded-t flex justify-between items-center\">\r\n                        <span id=\"namePipePopUp\" className=\"text-2xl\">ก๊อก {id}</span>\r\n                        <span className=\"text-2xl cursor-pointer\" onClick={() => TogglePopUp(id)}>X</span>\r\n                    </div>\r\n                    <div className=\"p-4 flex flex-col gap-4\">\r\n                        <TextBox idInput=\"input_date\" label=\"วันที่\" type=\"date\" value={date} setValue={setDate} />\r\n                        <TextBox idInput=\"input_time_turn_on\" label=\"เริ่มเปิดน้ำ\" type=\"time\" value={time} setValue={setTime} />\r\n                        <div className=\"flex flex-col gap-2\">\r\n                            <span className=\"text-2xl whitespace-nowrap\">เปิดกี่นาที : </span>\r\n                            <select className=\"text-2xl whitespace-nowrap\" id=\"minuteID\" form=\"minute\" onChange={e => setCoolDown(e.target.value)}>\r\n                                <option value=\"30\">30 นาที</option>\r\n                                <option value=\"25\">25 นาที</option>\r\n                                <option value=\"20\">20 นาที</option>\r\n                                <option value=\"15\">15 นาที</option>\r\n                                <option value=\"10\">10 นาที</option>\r\n                                <option value=\"5\">5 นาที</option>\r\n                            </select>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"w-full bg-indigo-500 rounded text-xl text-center p-2 cursor-pointer\" onClick={addLog}>เพิ่ม</button>\r\n                    </div>\r\n                </div>\r\n          </div> \r\n    );\r\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}